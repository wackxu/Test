=== RUN   TestCreateSnapshotSync
E0822 20:12:27.108273   59937 snapshot_controller.go:308] createSnapshot [create-default/snap6-5[snapuid6-5]]: error occurred in createSnapshotOperation: snapshot controller failed to update default/snap6-5 on API server: VersionError
E0822 20:12:27.108553   59937 goroutinemap.go:150] Operation for "create-default/snap6-5[snapuid6-5]" failed. No retries permitted until 2018-08-22 20:12:27.608530929 +0800 CST m=+20.969901318 (durationBeforeRetry 500ms). Error: "snapshot controller failed to update default/snap6-5 on API server: VersionError"
E0822 20:12:42.448913   59937 snapshot_controller.go:736] failed to retrieve snapshot class non-existing: "volumesnapshotclass.snapshot.storage.k8s.io \"non-existing\" not found"
E0822 20:12:42.448950   59937 snapshot_controller.go:448] createSnapshotOperation failed to getClassFromVolumeSnapshot failed to retrieve snapshot class non-existing: "volumesnapshotclass.snapshot.storage.k8s.io \"non-existing\" not found"
E0822 20:12:42.449019   59937 snapshot_controller.go:308] createSnapshot [create-default/snap7-1[snapuid7-1]]: error occurred in createSnapshotOperation: failed to retrieve snapshot class non-existing: "volumesnapshotclass.snapshot.storage.k8s.io \"non-existing\" not found"
E0822 20:12:42.449049   59937 goroutinemap.go:150] Operation for "create-default/snap7-1[snapuid7-1]" failed. No retries permitted until 2018-08-22 20:12:42.949027109 +0800 CST m=+36.310397406 (durationBeforeRetry 500ms). Error: "failed to retrieve snapshot class non-existing: \"volumesnapshotclass.snapshot.storage.k8s.io \\\"non-existing\\\" not found\""
E0822 20:12:42.449446   59937 snapshot_controller.go:308] createSnapshot [create-default/snap7-2[snapuid7-2]]: error occurred in createSnapshotOperation: csiSnapshotterSecretName and csiSnapshotterSecretNamespace parameters must be specified together
E0822 20:12:42.449537   59937 goroutinemap.go:150] Operation for "create-default/snap7-2[snapuid7-2]" failed. No retries permitted until 2018-08-22 20:12:42.949506268 +0800 CST m=+36.310876697 (durationBeforeRetry 500ms). Error: "csiSnapshotterSecretName and csiSnapshotterSecretNamespace parameters must be specified together"
E0822 20:12:42.450408   59937 snapshot_controller.go:448] createSnapshotOperation failed to getClassFromVolumeSnapshot cannot figure out the snapshot class automatically, please specify one in snapshot spec.
E0822 20:12:42.450444   59937 snapshot_controller.go:308] createSnapshot [create-default/snap7-3[snapuid7-3]]: error occurred in createSnapshotOperation: cannot figure out the snapshot class automatically, please specify one in snapshot spec.
E0822 20:12:42.450466   59937 goroutinemap.go:150] Operation for "create-default/snap7-3[snapuid7-3]" failed. No retries permitted until 2018-08-22 20:12:42.950449977 +0800 CST m=+36.311820370 (durationBeforeRetry 500ms). Error: "cannot figure out the snapshot class automatically, please specify one in snapshot spec."
E0822 20:12:47.563427   59937 snapshot_controller.go:453] createSnapshotOperation failed to get PersistentVolume object [snap7-4]: Error: [&errors.errorString{s:"failed to retrieve PVC claim7-4 from the API server: \"Cannot find claim claim7-4\""}]
E0822 20:12:47.563485   59937 snapshot_controller.go:308] createSnapshot [create-default/snap7-4[snapuid7-4]]: error occurred in createSnapshotOperation: failed to retrieve PVC claim7-4 from the API server: "Cannot find claim claim7-4"
E0822 20:12:47.563509   59937 goroutinemap.go:150] Operation for "create-default/snap7-4[snapuid7-4]" failed. No retries permitted until 2018-08-22 20:12:48.063491452 +0800 CST m=+41.424861840 (durationBeforeRetry 500ms). Error: "failed to retrieve PVC claim7-4 from the API server: \"Cannot find claim claim7-4\""
E0822 20:12:52.676442   59937 snapshot_controller.go:453] createSnapshotOperation failed to get PersistentVolume object [snap7-5]: Error: [&errors.errorString{s:"failed to retrieve PV volume7-5 from the API server: \"Cannot find volume volume7-5\""}]
E0822 20:12:52.676492   59937 snapshot_controller.go:308] createSnapshot [create-default/snap7-5[snapuid7-5]]: error occurred in createSnapshotOperation: failed to retrieve PV volume7-5 from the API server: "Cannot find volume volume7-5"
E0822 20:12:52.676514   59937 goroutinemap.go:150] Operation for "create-default/snap7-5[snapuid7-5]" failed. No retries permitted until 2018-08-22 20:12:53.176497563 +0800 CST m=+46.537867925 (durationBeforeRetry 500ms). Error: "failed to retrieve PV volume7-5 from the API server: \"Cannot find volume volume7-5\""
E0822 20:12:57.789348   59937 snapshot_controller.go:453] createSnapshotOperation failed to get PersistentVolume object [snap7-6]: Error: [&errors.errorString{s:"the PVC claim7-6 is not yet bound to a PV, will not attempt to take a snapshot"}]
E0822 20:12:57.789398   59937 snapshot_controller.go:308] createSnapshot [create-default/snap7-6[snapuid7-6]]: error occurred in createSnapshotOperation: the PVC claim7-6 is not yet bound to a PV, will not attempt to take a snapshot
E0822 20:12:57.789419   59937 goroutinemap.go:150] Operation for "create-default/snap7-6[snapuid7-6]" failed. No retries permitted until 2018-08-22 20:12:58.289403762 +0800 CST m=+51.650774155 (durationBeforeRetry 500ms). Error: "the PVC claim7-6 is not yet bound to a PV, will not attempt to take a snapshot"
E0822 20:13:02.902576   59937 snapshot_controller.go:308] createSnapshot [create-default/snap7-7[snapuid7-7]]: error occurred in createSnapshotOperation: failed to take snapshot of the volume, volume7-7: "mock create snapshot error"
E0822 20:13:02.902623   59937 goroutinemap.go:150] Operation for "create-default/snap7-7[snapuid7-7]" failed. No retries permitted until 2018-08-22 20:13:03.402603261 +0800 CST m=+56.763973623 (durationBeforeRetry 500ms). Error: "failed to take snapshot of the volume, volume7-7: \"mock create snapshot error\""
E0822 20:13:08.015937   59937 snapshot_controller.go:308] createSnapshot [create-default/snap7-8[snapuid7-8]]: error occurred in createSnapshotOperation: snapshot controller failed to update default/snap7-8 on API server: mock update error
E0822 20:13:08.016007   59937 goroutinemap.go:150] Operation for "create-default/snap7-8[snapuid7-8]" failed. No retries permitted until 2018-08-22 20:13:08.515965248 +0800 CST m=+61.877335646 (durationBeforeRetry 500ms). Error: "snapshot controller failed to update default/snap7-8 on API server: mock update error"
E0822 20:13:13.144895   59937 snapshot_controller.go:540] Error creating volume snapshot content object for snapshot default/snap7-9: mock create error.
E0822 20:13:13.144933   59937 snapshot_controller.go:308] createSnapshot [create-default/snap7-9[snapuid7-9]]: error occurred in createSnapshotOperation: snapshot controller failed to update default/snap7-9 on API server: mock create error
E0822 20:13:13.144956   59937 goroutinemap.go:150] Operation for "create-default/snap7-9[snapuid7-9]" failed. No retries permitted until 2018-08-22 20:13:13.644940518 +0800 CST m=+67.006310909 (durationBeforeRetry 500ms). Error: "snapshot controller failed to update default/snap7-9 on API server: mock create error"
--- FAIL: TestCreateSnapshotSync (66.49s)
	framework_test.go:1057: Test "6-1 - successful create snapshot with snapshot class gold" failed: timed out waiting for the condition
	framework_test.go:992: Test "6-1 - successful create snapshot with snapshot class gold": content check failed [A-expected, B-got]: {"snapcontent-snapuid6-1":{"metadata":{"name":"snapcontent-snapuid6-1","creationTimestamp":null},"spec":{"csiVolumeSnapshotSource":{"driver":"csi-mock-plugin","snapshotHandle":"sid6-1","size":
		
		A: null},"volumeSnapshotRef":{"kind":"volumesnapshots","namespace":"default","name":"snap6-1","uid":"snapuid6-1","apiVersion":"snapshot.storage.k8s.io/v1alpha1"},"persistentVolumeRef":{"kind":"PersistentVolume","namespace":"default","name":"volume6-1","uid":"pv-uid6-1","apiVersion":"v1"},"snapshotClassName":"gold"}}}
		
		B: "1k"},"volumeSnapshotRef":{"kind":"VolumeSnapshot","namespace":"default","name":"snap6-1","uid":"snapuid6-1","apiVersion":"v1alpha1"},"persistentVolumeRef":{"kind":"PersistentVolume","name":"volume6-1","uid":"pv-uid6-1","apiVersion":"v1"},"snapshotClassName":"gold"}}}
		
	framework_test.go:1057: Test "6-2 - successful create snapshot with snapshot class silver" failed: timed out waiting for the condition
	framework_test.go:988: Test "6-2 - successful create snapshot with snapshot class silver": snapshot check failed [A-expected, B-got result]: {"snap6-2":{"metadata":{"name":"snap6-2","namespace":"default","selfLink":"/apis/snapshot.storage.k8s.io/v1alpha1/namespaces/default/volumesnapshots/snap6-2","uid":"snapuid6-2","creationTimestamp":null},"spec":{"source":{"name":"claim6-2","kind":"PersistentVolumeClaim"},"snapshotContentName":"snapcontent-snapuid6-2","snapshotClassName":"silver"},"status":{"createdAt":
		
		A: null,"size":"1k","ready":false}}}
		
		B: "2018-08-22T12:12:06Z","size":"1k","ready":false}}}
		
	framework_test.go:992: Test "6-2 - successful create snapshot with snapshot class silver": content check failed [A-expected, B-got]: {"snapcontent-snapuid6-2":{"metadata":{"name":"snapcontent-snapuid6-2","creationTimestamp":null},"spec":{"csiVolumeSnapshotSource":{"driver":"csi-mock-plugin","snapshotHandle":"sid6-2","size":
		
		A: null},"volumeSnapshotRef":{"kind":"volumesnapshots","namespace":"default","name":"snap6-2","uid":"snapuid6-2","apiVersion":"snapshot.storage.k8s.io/v1alpha1"},"persistentVolumeRef":{"kind":"PersistentVolume","namespace":"default","name":"volume6-2","uid":"pv-uid6-2","apiVersion":"v1"},"snapshotClassName":"silver"}}}
		
		B: "1k"},"volumeSnapshotRef":{"kind":"VolumeSnapshot","namespace":"default","name":"snap6-2","uid":"snapuid6-2","apiVersion":"v1alpha1"},"persistentVolumeRef":{"kind":"PersistentVolume","name":"volume6-2","uid":"pv-uid6-2","apiVersion":"v1"},"snapshotClassName":"silver"}}}
		
	framework_test.go:1057: Test "6-3 - successful create snapshot with snapshot class valid-secret-class" failed: timed out waiting for the condition
	framework_test.go:988: Test "6-3 - successful create snapshot with snapshot class valid-secret-class": snapshot check failed [A-expected, B-got result]: {"snap6-3":{"metadata":{"name":"snap6-3","namespace":"default","selfLink":"/apis/snapshot.storage.k8s.io/v1alpha1/namespaces/default/volumesnapshots/snap6-3","uid":"snapuid6-3","creationTimestamp":null},"spec":{"source":{"name":"claim6-3","kind":"PersistentVolumeClaim"},"snapshotContentName":"snapcontent-snapuid6-3","snapshotClassName":"valid-secret-class"},"status":{"createdAt":
		
		A: null,"size":"1k","ready":false}}}
		
		B: "2018-08-22T12:12:06Z","size":"1k","ready":false}}}
		
	framework_test.go:992: Test "6-3 - successful create snapshot with snapshot class valid-secret-class": content check failed [A-expected, B-got]: {"snapcontent-snapuid6-3":{"metadata":{"name":"snapcontent-snapuid6-3","creationTimestamp":null},"spec":{"csiVolumeSnapshotSource":{"driver":"csi-mock-plugin","snapshotHandle":"sid6-3","size":
		
		A: null},"volumeSnapshotRef":{"kind":"volumesnapshots","namespace":"default","name":"snap6-3","uid":"snapuid6-3","apiVersion":"snapshot.storage.k8s.io/v1alpha1"},"persistentVolumeRef":{"kind":"PersistentVolume","namespace":"default","name":"volume6-3","uid":"pv-uid6-3","apiVersion":"v1"},"snapshotClassName":"valid-secret-class"}}}
		
		B: "1k"},"volumeSnapshotRef":{"kind":"VolumeSnapshot","namespace":"default","name":"snap6-3","uid":"snapuid6-3","apiVersion":"v1alpha1"},"persistentVolumeRef":{"kind":"PersistentVolume","name":"volume6-3","uid":"pv-uid6-3","apiVersion":"v1"},"snapshotClassName":"valid-secret-class"}}}
		
	framework_test.go:1057: Test "6-4 - successful create snapshot with snapshot class empty-secret-class" failed: timed out waiting for the condition
	framework_test.go:988: Test "6-4 - successful create snapshot with snapshot class empty-secret-class": snapshot check failed [A-expected, B-got result]: {"snap6-4":{"metadata":{"name":"snap6-4","namespace":"default","selfLink":"/apis/snapshot.storage.k8s.io/v1alpha1/namespaces/default/volumesnapshots/snap6-4","uid":"snapuid6-4","creationTimestamp":null},"spec":{"source":{"name":"claim6-4","kind":"PersistentVolumeClaim"},"snapshotContentName":"snapcontent-snapuid6-4","snapshotClassName":"empty-secret-class"},"status":{"createdAt":
		
		A: null,"size":"1k","ready":false}}}
		
		B: "2018-08-22T12:12:06Z","size":"1k","ready":false}}}
		
	framework_test.go:992: Test "6-4 - successful create snapshot with snapshot class empty-secret-class": content check failed [A-expected, B-got]: {"snapcontent-snapuid6-4":{"metadata":{"name":"snapcontent-snapuid6-4","creationTimestamp":null},"spec":{"csiVolumeSnapshotSource":{"driver":"csi-mock-plugin","snapshotHandle":"sid6-4","size":
		
		A: null},"volumeSnapshotRef":{"kind":"volumesnapshots","namespace":"default","name":"snap6-4","uid":"snapuid6-4","apiVersion":"snapshot.storage.k8s.io/v1alpha1"},"persistentVolumeRef":{"kind":"PersistentVolume","namespace":"default","name":"volume6-4","uid":"pv-uid6-4","apiVersion":"v1"},"snapshotClassName":"empty-secret-class"}}}
		
		B: "1k"},"volumeSnapshotRef":{"kind":"VolumeSnapshot","namespace":"default","name":"snap6-4","uid":"snapuid6-4","apiVersion":"v1alpha1"},"persistentVolumeRef":{"kind":"PersistentVolume","name":"volume6-4","uid":"pv-uid6-4","apiVersion":"v1"},"snapshotClassName":"empty-secret-class"}}}
		
	framework_test.go:1057: Test "6-5 - successful create snapshot with default snapshot class" failed: timed out waiting for the condition
	framework_test.go:988: Test "6-5 - successful create snapshot with default snapshot class": snapshot check failed [A-expected, B-got result]: {"snap6-5":{"metadata":{"name":"snap6-5","namespace":"default","selfLink":"/apis/snapshot.storage.k8s.io/v1alpha1/namespaces/default/volumesnapshots/snap6-5","uid":"snapuid6-5","creationTimestamp":null},"spec":{"source":{"name":"claim6-5","kind":"PersistentVolumeClaim"},"snapshotContentName":"
		
		A: snapcontent-snapuid6-5","snapshotClassName":"default-class"},"status":{"createdAt":null,"size":"1k","ready":false}}}
		
		B: ","snapshotClassName":"default-class"},"status":{"createdAt":null,"size":null,"ready":false}}}
		
	framework_test.go:992: Test "6-5 - successful create snapshot with default snapshot class": content check failed [A-expected, B-got]: {
		
		A: "snapcontent-snapuid6-5":{"metadata":{"name":"snapcontent-snapuid6-5","creationTimestamp":null},"spec":{"csiVolumeSnapshotSource":{"driver":"csi-mock-plugin","snapshotHandle":"sid6-5","size":null},"volumeSnapshotRef":{"kind":"volumesnapshots","namespace":"default","name":"snap6-5","uid":"snapuid6-5","apiVersion":"snapshot.storage.k8s.io/v1alpha1"},"persistentVolumeRef":{"kind":"PersistentVolume","namespace":"default","name":"volume6-5","uid":"pv-uid6-5","apiVersion":"v1"},"snapshotClassName":"default-class"}}}
		
		B: }
		
	framework_test.go:1057: Test "6-6 - successful create snapshot with status uploading" failed: timed out waiting for the condition
	framework_test.go:992: Test "6-6 - successful create snapshot with status uploading": content check failed [A-expected, B-got]: {"snapcontent-snapuid6-6":{"metadata":{"name":"snapcontent-snapuid6-6","creationTimestamp":null},"spec":{"csiVolumeSnapshotSource":{"driver":"csi-mock-plugin","snapshotHandle":"sid6-6","size":
		
		A: null},"volumeSnapshotRef":{"kind":"volumesnapshots","namespace":"default","name":"snap6-6","uid":"snapuid6-6","apiVersion":"snapshot.storage.k8s.io/v1alpha1"},"persistentVolumeRef":{"kind":"PersistentVolume","namespace":"default","name":"volume6-6","uid":"pv-uid6-6","apiVersion":"v1"},"snapshotClassName":"gold"}}}
		
		B: "1k"},"volumeSnapshotRef":{"kind":"VolumeSnapshot","namespace":"default","name":"snap6-6","uid":"snapuid6-6","apiVersion":"v1alpha1"},"persistentVolumeRef":{"kind":"PersistentVolume","name":"volume6-6","uid":"pv-uid6-6","apiVersion":"v1"},"snapshotClassName":"gold"}}}
		
	framework_test.go:1057: Test "6-7 - successful create snapshot with status error uploading" failed: timed out waiting for the condition
	framework_test.go:992: Test "6-7 - successful create snapshot with status error uploading": content check failed [A-expected, B-got]: {"snapcontent-snapuid6-7":{"metadata":{"name":"snapcontent-snapuid6-7","creationTimestamp":null},"spec":{"csiVolumeSnapshotSource":{"driver":"csi-mock-plugin","snapshotHandle":"sid6-7","size":
		
		A: null},"volumeSnapshotRef":{"kind":"volumesnapshots","namespace":"default","name":"snap6-7","uid":"snapuid6-7","apiVersion":"snapshot.storage.k8s.io/v1alpha1"},"persistentVolumeRef":{"kind":"PersistentVolume","namespace":"default","name":"volume6-7","uid":"pv-uid6-7","apiVersion":"v1"},"snapshotClassName":"gold"}}}
		
		B: "1k"},"volumeSnapshotRef":{"kind":"VolumeSnapshot","namespace":"default","name":"snap6-7","uid":"snapuid6-7","apiVersion":"v1alpha1"},"persistentVolumeRef":{"kind":"PersistentVolume","name":"volume6-7","uid":"pv-uid6-7","apiVersion":"v1"},"snapshotClassName":"gold"}}}
		
	framework_test.go:1057: Test "7-3 - fail create snapshot with snapshot class default-class but diff driver with storage class" failed: timed out waiting for the condition
	framework_test.go:988: Test "7-3 - fail create snapshot with snapshot class default-class but diff driver with storage class": snapshot check failed [A-expected, B-got result]: {"snap7-3":{"metadata":{"name":"snap7-3","namespace":"default","selfLink":"/apis/snapshot.storage.k8s.io/v1alpha1/namespaces/default/volumesnapshots/snap7-3","uid":"snapuid7-3","creationTimestamp":null},"spec":{"source":{"name":"claim7-3","kind":"PersistentVolumeClaim"},"snapshotContentName":"","snapshotClassName":""},"status":{"createdAt":null,"size":null,"ready":false,"error":{"time":null,"message":"Failed to create snapshot: 
		
		A: failed to take snapshot of the volume, volume7-3: \"unexpected call\""}}}}
		
		B: cannot figure out the snapshot class automatically, please specify one in snapshot spec."}}}}
		
	framework_test.go:1057: Test "7-4 - fail create snapshot with no-existing claim" failed: timed out waiting for the condition
	framework_test.go:988: Test "7-4 - fail create snapshot with no-existing claim": snapshot check failed [A-expected, B-got result]: {"snap7-4":{"metadata":{"name":"snap7-4","namespace":"default","selfLink":"/apis/snapshot.storage.k8s.io/v1alpha1/namespaces/default/volumesnapshots/snap7-4","uid":"snapuid7-4","creationTimestamp":null},"spec":{"source":{"name":"claim7-4","kind":"PersistentVolumeClaim"},"snapshotContentName":"","snapshotClassName":"gold"},"status":{"createdAt":null,"size":null,"ready":false,"error":{"time":null,"message":"Failed to create snapshot: failed to 
		
		A: take snapshot of the volume, volume7-4: \"unexpected call\""}}}}
		
		B: retrieve PVC claim7-4 from the API server: \"Cannot find claim claim7-4\""}}}}
		
	framework_test.go:1057: Test "7-5 - fail create snapshot with no-existing volume" failed: timed out waiting for the condition
	framework_test.go:988: Test "7-5 - fail create snapshot with no-existing volume": snapshot check failed [A-expected, B-got result]: {"snap7-5":{"metadata":{"name":"snap7-5","namespace":"default","selfLink":"/apis/snapshot.storage.k8s.io/v1alpha1/namespaces/default/volumesnapshots/snap7-5","uid":"snapuid7-5","creationTimestamp":null},"spec":{"source":{"name":"claim7-5","kind":"PersistentVolumeClaim"},"snapshotContentName":"","snapshotClassName":"gold"},"status":{"createdAt":null,"size":null,"ready":false,"error":{"time":null,"message":"Failed to create snapshot: failed to 
		
		A: take snapshot of the volume, volume7-5: \"unexpected call\""}}}}
		
		B: retrieve PV volume7-5 from the API server: \"Cannot find volume volume7-5\""}}}}
		
	framework_test.go:1057: Test "7-6 - fail create snapshot with claim that is not yet bound" failed: timed out waiting for the condition
	framework_test.go:988: Test "7-6 - fail create snapshot with claim that is not yet bound": snapshot check failed [A-expected, B-got result]: {"snap7-6":{"metadata":{"name":"snap7-6","namespace":"default","selfLink":"/apis/snapshot.storage.k8s.io/v1alpha1/namespaces/default/volumesnapshots/snap7-6","uid":"snapuid7-6","creationTimestamp":null},"spec":{"source":{"name":"claim7-6","kind":"PersistentVolumeClaim"},"snapshotContentName":"","snapshotClassName":"gold"},"status":{"createdAt":null,"size":null,"ready":false,"error":{"time":null,"message":"Failed to create snapshot: 
		
		A: failed to take snapshot of the volume, volume7-6: \"unexpected call\""}}}}
		
		B: the PVC claim7-6 is not yet bound to a PV, will not attempt to take a snapshot"}}}}
		
	framework_test.go:1057: Test "7-7 - fail create snapshot due to csi driver error" failed: timed out waiting for the condition
	framework_test.go:988: Test "7-7 - fail create snapshot due to csi driver error": snapshot check failed [A-expected, B-got result]: {"snap7-7":{"metadata":{"name":"snap7-7","namespace":"default","selfLink":"/apis/snapshot.storage.k8s.io/v1alpha1/namespaces/default/volumesnapshots/snap7-7","uid":"snapuid7-7","creationTimestamp":null},"spec":{"source":{"name":"claim7-7","kind":"PersistentVolumeClaim"},"snapshotContentName":"","snapshotClassName":"gold"},"status":{"createdAt":
		
		A: "2018-08-22T12:12:06Z","size":"1k","ready":false,"error":{"time":null,"message":"Failed to create snapshot: %v"}}}}
		
		B: null,"size":null,"ready":false,"error":{"time":null,"message":"Failed to create snapshot: failed to take snapshot of the volume, volume7-7: \"mock create snapshot error\""}}}}
		
	framework_test.go:1057: Test "7-8 - fail create snapshot due to cannot update snapshot status" failed: timed out waiting for the condition
	framework_test.go:988: Test "7-8 - fail create snapshot due to cannot update snapshot status": snapshot check failed [A-expected, B-got result]: {"snap7-8":{"metadata":{"name":"snap7-8","namespace":"default","selfLink":"/apis/snapshot.storage.k8s.io/v1alpha1/namespaces/default/volumesnapshots/snap7-8","uid":"snapuid7-8","creationTimestamp":null},"spec":{"source":{"name":"claim7-8","kind":"PersistentVolumeClaim"},"snapshotContentName":"","snapshotClassName":"gold"},"status":{"createdAt":
		
		A: "2018-08-22T12:12:06Z","size":"1k","ready":false}}}
		
		B: null,"size":null,"ready":false,"error":{"time":null,"message":"Failed to create snapshot: snapshot controller failed to update default/snap7-8 on API server: mock update error"}}}}
		
=== RUN   TestDeleteSync
E0822 20:13:13.146211   59937 goroutinemap.go:150] Operation for "delete-content1-4[]" failed. No retries permitted until 2018-08-22 20:13:13.645910577 +0800 CST m=+67.007280972 (durationBeforeRetry 500ms). Error: "csiSnapshotterSecretName and csiSnapshotterSecretNamespace parameters must be specified together"
E0822 20:13:13.148496   59937 goroutinemap.go:150] Operation for "delete-content1-5[]" failed. No retries permitted until 2018-08-22 20:13:13.648473881 +0800 CST m=+67.009844274 (durationBeforeRetry 500ms). Error: "failed to delete snapshot \"content1-5\", err: failed to delete snapshot data content1-5: \"mock csi driver delete error\""
E0822 20:13:13.148798   59937 goroutinemap.go:150] Operation for "delete-content1-6[]" failed. No retries permitted until 2018-08-22 20:13:13.648785704 +0800 CST m=+67.010156099 (durationBeforeRetry 500ms). Error: "failed to delete VolumeSnapshotContent content1-6 from API server: \"mock delete error\""
E0822 20:13:13.149252   59937 goroutinemap.go:150] Operation for "delete-content1-8[]" failed. No retries permitted until 2018-08-22 20:13:13.649240542 +0800 CST m=+67.010610954 (durationBeforeRetry 500ms). Error: "failed to delete VolumeSnapshotContent content1-8 from API server: \"Cannot delete content content1-8: not found\""
--- PASS: TestDeleteSync (0.01s)
FAIL
FAIL	command-line-arguments	66.524s
